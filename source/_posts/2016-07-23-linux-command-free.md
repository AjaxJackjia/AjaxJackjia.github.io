title: linux指令之free
toc: true
date: 2016-07-23 14:23:56
category:
- Linux
tags:
- linux command
---

# free

## 命令作用

显示内存的使用情况，包括实体内存，虚拟的交换文件内存，共享内存区段，以及系统核心使用的缓冲区等。

<!--more-->

## 命令参数

-b === 以Byte为单位显示内存使用情况。
-k === 以KB为单位显示内存使用情况。
-m === 以MB为单位显示内存使用情况。
-o === 不显示缓冲区调节列。
-s <间隔秒数> === 持续观察内存使用状况。
-t === 显示内存总和列。
-V === 显示版本信息。

## 实例

### 例1

`# free`

表示以KB为单位，显式系统内存使用情况。

定义该命令的输出结果是一个二维矩阵（FO，Free Output）。

![free显示](http://7xk4nm.com1.z0.glb.clouddn.com/uploads/2016/7/linux-free.png)

第一行和第二行都是说明内存使用情况的。第一列是总量（total），第二列是使用量（used），第三列是可用量（free），其中

`FO[2][5]`为buffer，用于存放要输出到disk（块设备）的数据；
`FO[2][6]`为cache，用于存放从disk上读出的数据。这两者都是为提高IO性能，并且有OS进行管理。

对于`FO[3][2]`，即-buffers/cache，表示一个应用程序认为系统被用掉多少内存，且 `FO[3][2] = FO[2][2] - FO[2][5] - FO[2][6]`；
对于`FO[3][3]`，即+buffers/cache，表示一个应用程序认为系统还有多少内存，且 `FO[3][3] = FO[2][3] + FO[2][5] + FO[2][6]`；

因为被系统cache和buffer占用的内存可以被快速回收，所以通常`FO[3][3]`比`FO[2][3]`会大很多。

第四行swap是交换区信息，包括交换区总量、已用量、可用量。

### 例2

`# free -m -s 1`

表示每秒以M为单位，显式系统内存详细使用情况。

### 例3

`# free -c 4 -s 2`

表示为KB为单位，每2秒显式系统内存使用情况，一共显示4次。



